{
  "info": {
    "name": "Goals MB API - Atualizada",
    "_postman_id": "f5c1f7b4-5678-4d1d-8abc-999988887777",
    "description": "Collection completa para testar a API de CRUD das tabelas *_MB (users, categories, goals, transactions) incluindo busca por userId.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Users",
      "item": [
        {
          "name": "Listar todos os usuários",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/users",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "users"
              ]
            }
          }
        },
        {
          "name": "Criar usuário",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nome\": \"Usuário Teste\",\n  \"email\": \"teste@example.com\",\n  \"senhaHash\": \"hash-aqui\",\n  \"role\": \"USER\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "users"
              ]
            }
          }
        },
        {
          "name": "Buscar usuário por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/users/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "users",
                "1"
              ]
            }
          }
        },
        {
          "name": "Atualizar usuário",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nome\": \"Usuário Teste Editado\",\n  \"email\": \"teste@example.com\",\n  \"senhaHash\": \"hash-editado\",\n  \"role\": \"ADMIN\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "users",
                "1"
              ]
            }
          }
        },
        {
          "name": "Deletar usuário",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/users/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "users",
                "1"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Categories",
      "item": [
        {
          "name": "Listar categorias",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/categories",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "categories"
              ]
            }
          }
        },
        {
          "name": "Criar categoria",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nome\": \"Alimentação\",\n  \"tipo\": \"DESPESA\",\n  \"limiteMensal\": 1000.0\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/categories",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "categories"
              ]
            }
          }
        },
        {
          "name": "Buscar categoria por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/categories/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "categories",
                "1"
              ]
            }
          }
        },
        {
          "name": "Atualizar categoria",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nome\": \"Alimentação - Editada\",\n  \"tipo\": \"DESPESA\",\n  \"limiteMensal\": 1200.0\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/categories/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "categories",
                "1"
              ]
            }
          }
        },
        {
          "name": "Deletar categoria",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/categories/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "categories",
                "1"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Goals",
      "item": [
        {
          "name": "Listar metas",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/goals",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "goals"
              ]
            }
          }
        },
        {
          "name": "Buscar metas por userId",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/goals/user/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "goals",
                "user",
                "1"
              ]
            },
            "description": "Retorna todas as metas do usuário com id = 1"
          }
        },
        {
          "name": "Criar meta (financeira)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user\": { \"id\": 1 },\n  \"titulo\": \"Juntar 5000\",\n  \"tipo\": \"FINANCEIRO\",\n  \"valorAlvo\": 5000.0,\n  \"status\": \"ATIVA\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/goals",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "goals"
              ]
            }
          }
        },
        {
          "name": "Criar meta (hábito)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user\": { \"id\": 1 },\n  \"titulo\": \"Ler 30 minutos por dia\",\n  \"tipo\": \"HABITO\",\n  \"diasAlvo\": 30,\n  \"diasConcluidos\": 5,\n  \"qtdAlvoDiaria\": 30,\n  \"unidade\": \"minutos\",\n  \"status\": \"ATIVA\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/goals",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "goals"
              ]
            }
          }
        },
        {
          "name": "Buscar meta por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/goals/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "goals",
                "1"
              ]
            }
          }
        },
        {
          "name": "Atualizar meta",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user\": { \"id\": 1 },\n  \"titulo\": \"Juntar 7000\",\n  \"tipo\": \"FINANCEIRO\",\n  \"valorAlvo\": 7000.0,\n  \"status\": \"ATIVA\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/goals/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "goals",
                "1"
              ]
            }
          }
        },
        {
          "name": "Deletar meta",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/goals/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "goals",
                "1"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Transactions",
      "item": [
        {
          "name": "Listar transações",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/transactions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "transactions"
              ]
            }
          }
        },
        {
          "name": "Buscar transações por userId",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/transactions/user/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "transactions",
                "user",
                "1"
              ]
            },
            "description": "Retorna todas as transações do usuário com id = 1"
          }
        },
        {
          "name": "Criar transação",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user\": { \"id\": 1 },\n  \"category\": { \"id\": 1 },\n  \"goal\": { \"id\": 1 },\n  \"tipo\": \"DESPESA\",\n  \"valor\": 50.0,\n  \"descricao\": \"Almoço\",\n  \"merchant\": \"Restaurante X\",\n  \"dataTransacao\": \"2025-01-01\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/transactions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "transactions"
              ]
            }
          }
        },
        {
          "name": "Buscar transação por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/transactions/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "transactions",
                "1"
              ]
            }
          }
        },
        {
          "name": "Atualizar transação",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user\": { \"id\": 1 },\n  \"category\": { \"id\": 1 },\n  \"goal\": { \"id\": 1 },\n  \"tipo\": \"DESPESA\",\n  \"valor\": 60.0,\n  \"descricao\": \"Almoço - Editado\",\n  \"merchant\": \"Restaurante Y\",\n  \"dataTransacao\": \"2025-01-02\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/transactions/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "transactions",
                "1"
              ]
            }
          }
        },
        {
          "name": "Deletar transação",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/transactions/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "transactions",
                "1"
              ]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080"
    }
  ]
}

